{"ast":null,"code":"import _classCallCheck from \"/Users/Matilda/Documents/GitHub/calendar-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Matilda/Documents/GitHub/calendar-react/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n//DinnerModel Object constructor\nvar Model =\n/*#__PURE__*/\nfunction () {\n  //TODO Lab 1 implement the data structure that will hold number of guest\n  // and selected dishes for the dinner menu\n  function Model() {\n    _classCallCheck(this, Model);\n  }\n\n  _createClass(Model, [{\n    key: \"getAllEvents\",\n    value: function getAllEvents() {\n      //fetch returnerar en promise\n      console.log(\"Inne i getAllEvents\");\n\n      var CryptoJS = require(\"crypto-js\");\n\n      return fetch(\"https://projects.teamengine.com/calendar/events\", {\n        headers: {\n          'x-teamengine-test': \"YfKFyOBnLBvudfn\"\n        }\n      }).then(function (response) {\n        //kollar att vi inte fått error när vi försökte fetcha\n        if (response.ok) {\n          console.log(\"response ok\");\n          return CryptoJS.AES.decrypt(response.toString(), 'teamengine-key');\n        }\n\n        throw Error(response.statusText);\n      }).then(function (response) {\n        return CryptoJS.AES.decrypt(response.toString(), 'teamengine-key');\n      });\n    }\n  }]);\n\n  return Model;\n}();\n\nexport default Model;","map":{"version":3,"sources":["/Users/Matilda/Documents/GitHub/calendar-react/src/Model.js"],"names":["Model","console","log","CryptoJS","require","fetch","headers","then","response","ok","AES","decrypt","toString","Error","statusText"],"mappings":";;;AAAA;IACMA,K;;;AACL;AACA;AAEA,mBAAc;AAAA;AACb;;;;mCAEc;AACR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;;AACA,UAAIC,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AACN,aAAOC,KAAK,oDAAoD;AAC/DC,QAAAA,OAAO,EAAE;AACR,+BAAqB;AADb;AADsD,OAApD,CAAL,CAKLC,IALK,CAKA,UAAAC,QAAQ,EAAI;AAAC;AAClB,YAAIA,QAAQ,CAACC,EAAb,EAAiB;AACDR,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACf,iBAAOC,QAAQ,CAACO,GAAT,CAAaC,OAAb,CAAqBH,QAAQ,CAACI,QAAT,EAArB,EAA0C,gBAA1C,CAAP;AACA;;AACD,cAAMC,KAAK,CAACL,QAAQ,CAACM,UAAV,CAAX;AACA,OAXK,EAYLP,IAZK,CAYA,UAAAC,QAAQ;AAAA,eAAIL,QAAQ,CAACO,GAAT,CAAaC,OAAb,CAAqBH,QAAQ,CAACI,QAAT,EAArB,EAA0C,gBAA1C,CAAJ;AAAA,OAZR,CAAP;AAaA;;;;;;AAKF,eAAeZ,KAAf","sourcesContent":["//DinnerModel Object constructor\nclass Model {\n\t//TODO Lab 1 implement the data structure that will hold number of guest\n\t// and selected dishes for the dinner menu\n\n\tconstructor() {\n\t}\n\n\tgetAllEvents() {\n        //fetch returnerar en promise\n        console.log(\"Inne i getAllEvents\");\n        var CryptoJS = require(\"crypto-js\");        \n\t\treturn fetch(`https://projects.teamengine.com/calendar/events`, {\n\t\t\theaders: {\n\t\t\t\t'x-teamengine-test': \"YfKFyOBnLBvudfn\"\n\t\t\t}\n\t\t})\n\t\t\t.then(response => {//kollar att vi inte fått error när vi försökte fetcha\n\t\t\t\tif (response.ok) {\n                    console.log(\"response ok\")\n\t\t\t\t\treturn CryptoJS.AES.decrypt(response.toString(), 'teamengine-key');\n\t\t\t\t}\n\t\t\t\tthrow Error(response.statusText);\n\t\t\t})\n\t\t\t.then(response => CryptoJS.AES.decrypt(response.toString(), 'teamengine-key'))\n\t}\n\n}\n\n\nexport default Model;\n\n\n"]},"metadata":{},"sourceType":"module"}